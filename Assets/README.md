# TowerDefence — Описание скриптов

## Игрок

- **PlayerController.cs**  
  Основная логика игрока: движение, прыжки, маунт, сбор монет. Реализует интерфейс `IPlayer`. Управляет скоростью и направлением через `Rigidbody2D`.

- **PlayerMovement.cs**  
  Управляет физическим перемещением игрока. Обрабатывает ввод для движения и прыжков, реализует ускорение.

- **PlayerInputHandler.cs**  
  Получает ввод пользователя через новую систему ввода Unity (`InputSystem`). Передаёт команды в `IPlayer`.

- **PlayerConfig.cs**  
  ScriptableObject с параметрами игрока: скорость, сила прыжка, стартовые монеты и др.

- **PlayerHealth.cs**  
  Управляет здоровьем игрока, обработка получения урона и смерти.

- **PlayerInventory.cs**  
  Хранит и управляет предметами, собранными игроком.

## Камера

- **PlayerCameraFollow.cs**  
  Камера плавно следует за целью с помощью `Vector3.Lerp` и смещения.

- **CameraController.cs**  
  Камера отслеживает игрока через интерфейс `IPlayer` (DI). Плавное движение реализовано через `Vector3.Lerp` и параметр сглаживания.

## Враги

- **EnemyController.cs**  
  Управляет поведением врага: патрулирование, атака, получение урона.

- **EnemySpawner.cs**  
  Спавнит врагов на сцене по заданным точкам и условиям.

- **EnemyHealth.cs**  
  Управляет здоровьем врага.

## Башни

- **TowerController.cs**  
  Управляет логикой башни: поиск целей, стрельба, апгрейд.

- **TowerSpawner.cs**  
  Позволяет размещать башни на сцене игроком.

- **TowerUpgrade.cs**  
  Реализует улучшения башен.

## Интерфейсы

- **IPlayer.cs**  
  Интерфейс игрока: позиция, скорость, состояние маунта, монеты. Методы для управления движением, маунтом и сбором монет.

- **IUnitSpawner.cs**  
  Интерфейс для спауна юнитов (жители, лучники, строители).

- **IDamageable.cs**  
  Интерфейс для объектов, получающих урон.

## Инфраструктура

- **GameInstaller.cs**  
  Инсталлер Zenject: связывает зависимости (конфиг игрока, контроллер игрока, контроллер камеры) для внедрения зависимостей.

- **GameManager.cs**  
  Управляет состоянием игры: старт, пауза, победа, поражение.

- **LevelLoader.cs**  
  Загружает и переключает уровни.

## UI

- **UIManager.cs**  
  Управляет отображением интерфейса: здоровье, монеты, волны.

- **PauseMenu.cs**  
  Логика меню паузы.

- **UpgradePanel.cs**  
  Панель улучшения башен.

---

## Документация

Подробная документация по каждому скрипту и системе находится в папке [`Docs`](../Docs/).

---
> Скрипты разделены по назначению: управление игроком, врагами, башнями, камерой, UI, инфраструктурой и интерфейсами. Используются современные подходы Unity: ScriptableObject, InputSystem, Zenject.
